{"version":3,"sources":["../lib/types/index.ts"],"names":[],"mappings":";;AAKA,0CAA0C;AAC7B,QAAA,kBAAkB,GAAG,CAAE,UAAU,EAAE,YAAY,EAAE,kBAAkB,EAAE,iBAAiB,CAAE,CAAC;AAOzF,QAAA,mBAAmB,GAAG,CAAE,kBAAkB,EAAE,cAAc,EAAE,kBAAkB,EAAE,cAAc,CAAE,CAAC","file":"index.js","sourcesContent":["import { CoverageEntry } from 'puppeteer';\nimport { FlowParameters } from 'last-hit-types';\n\nexport type IncludingFilter = { story: string; flow?: string };\nexport type IncludingFilters = IncludingFilter[];\n// for push replay summary to admin server\nexport const ConfigForAdminKeys = [ 'adminUrl', 'adminToken', 'adminWorkspaceId', 'adminTestPlanId' ];\nexport type ConfigForAdmin = {\n\tadminUrl?: string;\n\tadminToken?: string;\n\tadminWorkspaceId?: string | number;\n\tadminTestPlanId?: string | number;\n}\nexport const ConfigForRuntimeKey = [ 'urlReplaceRegexp', 'urlReplaceTo', 'sleepAfterChange', 'slowAjaxTime' ];\nexport type ConfigForRuntime = {\n\turlReplaceRegexp?: string;\n\turlReplaceTo?: string;\n\tsleepAfterChange?: number;\n\tslowAjaxTime?: number;\n}\nexport type Config = ConfigForAdmin & ConfigForRuntime & {\n\t[key in string]: any;\n} & {\n\t/** environment name */\n\tenv: string;\n\t/** workspace folder */\n\tworkspace: string;\n\t/** including */\n\tincludes?: IncludingFilters;\n\tparallel?: number;\n\t/** is in child process */\n\tchild?: boolean;\n};\nexport type WorkspaceConfig = {\n\tenvs: { [key in string]: any };\n};\nexport type EnvironmentOptions = {\n\tname: string;\n\tworkspace: string;\n\turlReplaceRegexp?: string;\n\turlReplaceTo?: string;\n\tsleepAfterChange?: number;\n\tslowAjaxTime?: number;\n\tincludes?: IncludingFilters;\n\tparallel?: number;\n\tchild?: boolean;\n\t// for push replay summary to admin server\n\tadminUrl?: string;\n\tadminToken?: string;\n\tadminWorkspaceId?: string | number;\n\tadminTestPlanId?: string | number;\n};\nexport type FlowFile = { story: string; flow: string };\n\nexport type SlowAjax = { url: string; time: number; };\nexport type Summary = {\n\tnumberOfFailed: number;\n\tstoryName: string;\n\tflowName: string;\n\tnumberOfStep: number;\n\tnumberOfUIBehavior: number;\n\tnumberOfSuccess: number;\n\tnumberOfAjax: number;\n\tnumberOfAssert: number;\n\tslowAjaxRequest?: Array<SlowAjax>;\n\tignoreErrorList?: [];\n\terrorStack: String;\n\tscreenCompareList?: Array<{\n\t\tstepIndex: number;\n\t\tstepUuid: string;\n\t\ttarget: string;\n\t\tpath: string;\n\t\tcsspath: string;\n\t\tcustompath?: string;\n\t\tdatapath?: string;\n\t\thuman: string;\n\t\ttype: string;\n\t}>;\n\ttestLogs?: Array<{ title: string; passed: boolean; level?: number }>;\n\tflowParams: FlowParameters;\n\t/** flow is jammed, because of dependency failed */\n\tjammed?: boolean;\n};\n\nexport type Report = Summary & {\n\t/** format: \"abc: 8748.3349609375ms\" */\n\tspent: string;\n};\nexport type CoverageEntryRange = { start: number; end: number };\nexport type Coverages = CoverageEntry[];\nexport type FlowResult = {\n\treport: Report;\n\tcoverages: Coverages;\n\tcode: 'success' | 'pending';\n};\n"]}